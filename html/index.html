
<style>
    .blinking {
  -webkit-animation: 1s blink ease infinite;
  -moz-animation: 1s blink ease infinite;
  -ms-animation: 1s blink ease infinite;
  -o-animation: 1s blink ease infinite;
  animation: 1s blink ease infinite;

}

@keyframes "blink" {
  from, to {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
}

@-moz-keyframes blink {
  from, to {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
}

@-webkit-keyframes "blink" {
  from, to {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
}

@-ms-keyframes "blink" {
  from, to {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
}

@-o-keyframes "blink" {
  from, to {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
}
</style>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ElecTracker : sondages et résultats des élections régionales 2021</title>
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/rozierguillaume/electracker/main/img/electracker_logo_transparent.png" />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@guillaumerozier" />
    <meta name="twitter:creator" content="@guillaumerozier" />
    <meta property="og:url" content="http://electracker.fr" />
    <meta property="og:title" content="ElecTracker : sondages et résultats des élections" />
    <meta property="og:description" content="ElecTracker est une plateforme citoyenne permettant de consulter les sondages et résultats des élections en France." />
    <meta property="og:image" content="https://raw.githubusercontent.com/rozierguillaume/electracker/main/img/electracker_logo.jpeg" />

    <meta property="og:url"                content="http://electracker.fr" />
    <meta property="og:type"               content="website" />
    <meta property="og:title"              content="ElecTracker : sondages et résultats des élections régionales" />
    <meta property="og:description"        content="ElecTracker est une plateforme citoyenne permettant de consulter les sondages et résultats des élections en France." />
    <meta property="og:image"              content="https://raw.githubusercontent.com/rozierguillaume/electracker/main/img/electracker_logo.jpeg" />

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HFY7GK6QCP"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-HFY7GK6QCP');
    </script>
    <script src="https://cdn.plot.ly/plotly-2.8.3.min.js"></script>
</head>
<body>

<nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid" style="max-width:1200px">
      <a class="navbar-brand" href="#"><img src="https://raw.githubusercontent.com/rozierguillaume/electracker/main/img/electracker_logo_transparent.png" alt="" width="31" height="30" style="margin-right: 10px;">ElecTracker</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
              <li class="nav-item">
                <a class="nav-link" href="#about">À propos</a>
              </li>
                <li class="nav-item">
                <a class="nav-link" href="https://github.com/rozierguillaume/electracker">Code source</a>
              </li>
            </ul>
        </div>
    </div>
</nav>


<div class="container" style="padding-top: 30px;">
    <br>
    <h1>Sondages de l'élection présidentielle 2022</h1><br>
    <p></p><br>
    <div id="myDiv"></div>

    <h2 id="about">À propos</h2>
    ElecTracker agrège les sondages des élections présidentielles en France. <a href="https://github.com/nsppolls/nsppolls">Source des données : NSPPolls</a>.
    <br><br>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@0.1.1"></script>

<script>
    var intentionsCandidatsMoyenneMobile14Jours;
    var requestURL = 'https://raw.githubusercontent.com/rozierguillaume/electracker/main/data/output/intentionsCandidatsMoyenneMobile14Jours.json';
    var request = new XMLHttpRequest();
    request.open('GET', requestURL);
    request.responseType = 'json';
    request.send();
    request.onload = function() {
      intentionsCandidatsMoyenneMobile14Jours = request.response;
      construireGraphique();
      
    }

    function construireGraphique(){
      console.log(intentionsCandidatsMoyenneMobile14Jours["Emmanuel Macron"]["fin_enquete"])

      var trace1 = {
        x: intentionsCandidatsMoyenneMobile14Jours["Emmanuel Macron"]["fin_enquete"],
        y: intentionsCandidatsMoyenneMobile14Jours["Emmanuel Macron"]["intentions"],
        mode: 'lines',
        type: 'scatter'
      };

      var data = [trace1];

      Plotly.newPlot('myDiv', data);

    }

</script>

</body>
</html>
